<?php
/*
Plugin Name: Greyforest ::: YouTube Gallery
Plugin URI: https://www.greyforest.media/plugins
Description: Adds a shortcode button + functionality for embedding a YouTube gallery
Version: 1.4
Author: Greyforest Media
Author URI: https://www.greyforest.media
*/

require 'plugin-update-checker/plugin-update-checker.php';
$MyUpdateChecker = Puc_v4_Factory::buildUpdateChecker(
	'http://www.greyforest.media/plugins/wp-update-server/?action=get_metadata&slug=greyforest-youtube-gallery', //Metadata URL.
	__FILE__, //Full path to the main plugin file.
	'greyforest-youtube-gallery' //Plugin slug. Usually it's the same as the name of the directory.
);

/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

///////////////////////////////////////////////////////////////////////////////
/// ADD "VIEW DETAILS" LINK ON PLUGIN PAGE                                  ///
///////////////////////////////////////////////////////////////////////////////
function greyforest_youtubegallery_settings_link($links) { 
  $settings_link = '<a aria-label="View Details" class="thickbox open-plugin-details-modal" href="plugin-install.php?tab=plugin-information&plugin=greyforest-youtube-gallery&TB_iframe=true&width=772&height=853">View Details</a>'; 
  array_unshift($links, $settings_link); 
  return $links; 
}
 
$plugin = plugin_basename(__FILE__); 
add_filter("plugin_action_links_$plugin", 'greyforest_youtubegallery_settings_link' );




/* REGISTER SHORTCODES */
/* REGISTER SHORTCODES */
/* REGISTER SHORTCODES */


/* YOUTUBE GALLERY - NEW GALLERY*/
/* YOUTUBE GALLERY - NEW GALLERY*/
function shortcode_youtubegallery_newgallery($atts, $content=null) {
    extract(
        shortcode_atts(array(
            'featuredvideo_id' => '',       
            'columns' => '',
			'filters' => ''
			), $atts)
    );
	
	 // $dummy = plugin_dir_url(__FILE__) . "graphics/DUMMY-16x9.png";
	 $dummy = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAIAAABAH0oBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE0RjA3QkE2OUE2MzExRTVCREE0RDBDRDk5RTE5NjY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE0RjA3QkE3OUE2MzExRTVCREE0RDBDRDk5RTE5NjY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTRGMDdCQTQ5QTYzMTFFNUJEQTREMENEOTlFMTk2NjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTRGMDdCQTU5QTYzMTFFNUJEQTREMENEOTlFMTk2NjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz53NaUYAAARdElEQVR42uzd7XKbOBiA0RVfvv+7TUBIy+Bpx9PsNjSxCpbO+ZWkDuN5ER0eG5MQY/wHAAAAatcZAQAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAACUNRgDQspxzSin/8PjzXx45TVMIocRzWNc1xmhf1H/OMQx93xdaxvM8//LDx+Uafui6rtAyBkAAA3Bpy7Js8fmxdf+ytLM7qrft5UIBfN/4kYdt9bs9hy3FZTCAAAagoRTZ6vci2SlFGnGFHZ1zjjGu6zpNU9f5IBhAc/zXD9Bi/c7z7E1XmnW/ZHrLYKMAEMAA1H/qf/plz6CBARDAAJQVY1S/8PNwMAQAAQxAne4fgDQHuLvfAt0cAAQwAHWe7hsCOCgABDAA9fNmFzgoAAQwAM71AQAEMABApbwqBCCAAXCuDwAggAEAauFVIQABDAAAAAIYAAAABDAAV+ZqT3BQAAhgAAAAEMAAAAAggAEAAEAAAwAAwFUMRgDAEcuyhBBKbDmlZLwtWNe10B2n3MgKAAEMwJPrxRD4jrQzBwBO5BJoAKBd3j0GEMAAAAAggAEAAEAAAwAAgAAGAAAAAQxAee73AwAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAIBHOWdDABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIIABAABAAAMAAMAJBiMA4IiuK/Waad6ZcPXCrtDGU0omDIAABuA5pmkqVC/LssQYTbh6fd+P41hiyznnt7c3EwbgUy6BBuBk5d4VxI4GAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAM0J+dsCACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAoE2DEQBwxDzPIYQSW04pGW8LYoyF9nXO2XgBEMAAyFSuYsvUdV3NAYATuQQaAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAEMAAAABQs8EIADgo7D7+8P5Fzvnjvx6RUtp+13hbWD9d97+vvP/RGvj4YEsIAAEMwNOM49j3/WPxPkuMcVkWE67/nGP3/e18bN2U0jzPJgyAAAbgOf7z7V84ZSkaAgBf4zPAAAAACGAAAAAQwAA0xXWnAIAABgAAAAEMAFCYyxMAEMAAAAAggAEAABDAAAAAIIABAABAAAMAAIAABuCludEuACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAAAQwAMAL8keqARDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAry7nbAh2NAD8BYMRAHDE+/u7IfAd684cABDAAFydt++whAB4dS6BBgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAAAQwAAAA1GwwAgAO6rouhPDz28evvyPtjLeF9bP5zQNyzgc39fjIbR1u31pCAAhgAJ5mHMe+758VvY9ijOqlBdv6GYYiJx6WEAAHuQQagEPCzhy45uI0BAAEMAAAAAhgAP6EN9kAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAPF3O2RAAAAEMwGsIIRgCACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAAFCtwQgAOCLGuK7rpw8LIfzpllNKxtuCbf3knL/wi5/+1tc2C4AABgCZSqklZBUBcC6XQAMAACCAAQAAQAADAACAAAYAeAFfuG0bAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAbgpYUQDAEAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAcCp3hgMQwAAAACCAAQAAQAADAACAAAbgZD7uCAAIYAAAABDAAAAAIIABAF6XzwUACGAAnOsDAAhgAAAAEMAAAC/EZREATRmMAMC5/umdkHO2dyw/SwgAAQzAJdxut0IBE2NclsWE6z/n2BWq37e3twtmOQBX4xJogIY41wcABDAAAhgcFAAIYACc60OtZ0KdcyEAAQxApQHsdB8e69erQgACGIBqFboLETgcABDAAFxL3/fTNJkDbAfCdjiYA4AABqDyBi73N43g+rbFr34B2uTKH4AWdV23NXCMcV3XnPO5T+b0J0A7O/r+MfhhGHwYHkAAA9CQrQTGcdxKIO3ucXJKonQ7e6R6RffybzZ+v9jhnr7uegUggAFoOoP73YnP4fQnQAXL+Ha7mQMAn/KKOwAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAAAIYAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggI0AAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAU9a8AAwD3/Jd0AtBU+wAAAABJRU5ErkJggg==";
	 
	 if ( $columns == "2" ) { $column_count = "youtubegallery-two-columns"; }
	 elseif ( $columns == "3" ) { $column_count = "youtubegallery-three-columns"; }
	 elseif ( $columns == "4" ) { $column_count = "youtubegallery-four-columns"; }
	 elseif ( $columns == "5" ) { $column_count = "youtubegallery-five-columns"; }
	 elseif ( $columns == "" ) { $column_count = "youtubegallery-three-columns"; }
ob_start();	

echo '
<div class="youtubegallery-videoframe">
<iframe name="youtubegallery-embed" class="youtubegallery-destination" height="100%" width="100%" src="https://youtube.com/embed/'. $featuredvideo_id .'?rel=0&color=white" allowfullscreen></iframe>
<img src="'. $dummy .'">
</div>';

if ( $filters != "" ) { 
echo '<ul class="youtubegallery-filters"><li data-filter="all" class="selected">all</li>';
$filters_arr = explode(",", $filters);
foreach ($filters_arr as $filterbutton) {
$filternospace = str_replace(' ', '', $filterbutton);	
	
    echo "<li data-filter='".$filternospace."'>".$filterbutton."</li>";
}
echo '</ul>';
}

echo '<ul class="youtubegallery-thumbnails '. $column_count .'">';
return ob_get_clean();
}
add_shortcode('youtubegallery_newgallery','shortcode_youtubegallery_newgallery');
/* YOUTUBE GALLERY - NEW GALLERY*/
/* YOUTUBE GALLERY - NEW GALLERY*/



/* YOUTUBE GALLERY - VIDEO THUMBNAIL*/
/* YOUTUBE GALLERY - VIDEO THUMBNAIL*/
function shortcode_youtubegallery_thumbnail($atts, $content=null) {
    extract(
        shortcode_atts(array(
            'id' => '',       
            'title' => '',       
            'filter' => ''       
			), $atts)
    );
	
	 // $dummy = plugin_dir_url(__FILE__) . "graphics/DUMMY-16x9.png";
	 $dummy = " data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAIAAABAH0oBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE0RjA3QkE2OUE2MzExRTVCREE0RDBDRDk5RTE5NjY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE0RjA3QkE3OUE2MzExRTVCREE0RDBDRDk5RTE5NjY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTRGMDdCQTQ5QTYzMTFFNUJEQTREMENEOTlFMTk2NjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTRGMDdCQTU5QTYzMTFFNUJEQTREMENEOTlFMTk2NjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz53NaUYAAARdElEQVR42uzd7XKbOBiA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AAIYAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAAABDAAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggI0AAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAACAAAYAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAQAADAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAACCAAQAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAQwAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAAACGAAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAAAAAQwAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAAEAAAwAAgAAGAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAggAEAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAAEMAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAAAAAhgAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAAAEMAACAAAYAAAABDAAAAAIYAAAABDAAAAAIYAAAABDAAAAAIIABAABAAAMAAIAABgAAQAADAACAAAYAAAABDAAAAAIYAAAABDAAAAAU9a8AAwD3/Jd0AtBU+wAAAABJRU5ErkJggg==";
	 $filternospace = str_replace(' ', '', $filter);
	 
return '<li class="youtubegallery-thumb youtubegallery-filter-all youtubegallery-filter-'.$filternospace.'"><a class="youtubegallery-scroll" href="https://www.youtube.com/embed/'.$id.'?rel=0&color=white" target="youtubegallery-embed"><img src="http://img.youtube.com/vi/'.$id.'/mqdefault.jpg" class="youtubegallery-image"><span class="youtubegallery-title"><p>'.$title.'<br><span class="youtubegallery-filter-title">'.$filter.'</span></p></span></a></li>'; 

}
add_shortcode('youtubegallery_thumbnail','shortcode_youtubegallery_thumbnail');
/* YOUTUBE GALLERY - VIDEO THUMBNAIL*/
/* YOUTUBE GALLERY - VIDEO THUMBNAIL*/



/* YOUTUBE GALLERY - END GALLERY*/
/* YOUTUBE GALLERY - END GALLERY*/
function shortcode_youtubegallery_endgallery($atts, $content=null) {
    extract(
        shortcode_atts(array(     
			), $atts)
    );
return '
</ul><div style="clear:both;border:1px dotted #ddd;margin:10px;padding:10px;display:none;color:#ddd;">YOUTUBE GALLERY - Brought to you by <a style="color:#ddd !important;" href="http://www.greyforest.media" title="Greyforest.Media" target="_blank">Greyforest.Media</a></div>
';
}
add_shortcode('youtubegallery_endgallery','shortcode_youtubegallery_endgallery');
/* YOUTUBE GALLERY - END GALLERY*/
/* YOUTUBE GALLERY - END GALLERY*/




/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

/* ENQUEUE VISUAL STYLESHEET + FUNCTIONALITY SCRIPT */


 function greyforest_youtubegallery_enqueue_style() {
 	wp_enqueue_style( 'youtubegallery-css', plugins_url( '/greyforest-youtube-gallery.css' , __FILE__ ), false ); 
 }
 function greyforest_youtubegallery_enqueue_scripts() {
 	wp_enqueue_script( 'youtubegallery-js', plugins_url( '/greyforest-youtube-gallery.js' , __FILE__ ), false ); 
 }
 
 add_action( 'wp_enqueue_scripts', 'greyforest_youtubegallery_enqueue_style' );
 add_action( 'wp_enqueue_scripts', 'greyforest_youtubegallery_enqueue_scripts' );
 



/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
/* /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */

/* ENQUEUE VISUAL EDITOR SHORTCODE BUTTON SCRIPT */



function enqueue_greyforest_youtubegallery_scripts($plugin_array)
{
    //enqueue TinyMCE plugin script with its ID.
    $plugin_array["youtubegallery_plugin"] =  plugin_dir_url(__FILE__) . "greyforest-youtubegallery-shortcode-button.js";
    return $plugin_array;
}

add_filter("mce_external_plugins", "enqueue_greyforest_youtubegallery_scripts");



function register_greyforest_youtubegallery_editor($buttons)
{
    //register buttons with their id.
    array_push($buttons, "youtubegallery_newgallery","youtubegallery_thumbnail");
    return $buttons;
}
add_filter("mce_buttons", "register_greyforest_youtubegallery_editor");